import{S as m,a as $,i as d}from"./assets/vendor-Rdv7LHNr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();new m(".gallery a",{captionsData:"alt",captionDelay:250});const w="46931303-4adba5c677ceeed1d52c819f0",S="https://pixabay.com/api/",q={image_type:"photo",orientation:"horizontal",safesearch:!0};async function f(e,t=1,n=20,a=q){const r=`${S}?key=${w}&q=${encodeURIComponent(e)}&page=${t}&per_page=${n}&image_type=${a.image_type}&orientation=${a.orientation}&safesearch=${a.safesearch}`;try{const{data:o}=await $.get(r);return o}catch{throw new Error("Failed to fetch images. Please try again later.")}}const P=new m(".gallery a",{captionsData:"alt",captionDelay:250});function g(e){const t=document.querySelector(".gallery"),n=e.map(({largeImageURL:a,webformatURL:r,tags:o,likes:c,views:v,comments:b,downloads:L})=>`
        <div class="image-card">
          <a href="${a}">
            <img src="${r}" alt="${o}" />
          </a>
          <div class="img-details">
            <div class="coms"><p>Likes</p> ${c}</div>
            <div class="coms"><p>Views</p> ${v}</div>
            <div class="coms"><p>Comments</p> ${b}</div>
            <div class="coms"><p>Downloads</p> ${L}</div>
          </div>
        </div>
      `).join("");t.insertAdjacentHTML("beforeend",n),P.refresh()}function p(e){d.error({title:"Error",message:e.message,position:"topRight",timeout:5e3})}let l="",s=1,y=15;function u(e){const t=document.getElementById("loader");t.style.display=e?"block":"none"}function i(e){const t=document.querySelector(".load-more-btn");t.style.display=e?"block":"none"}const E=document.querySelector("#form"),I=document.querySelector(".load-more-btn");i(!1);E.addEventListener("submit",async e=>{if(e.preventDefault(),l=e.target.elements.query.value.trim(),s=1,document.querySelector(".gallery").innerHTML="",!l){u(!1),d.error({title:"Sorry,",message:"your search field is empty. Write something down, please!",position:"topRight",timeout:3e3});return}try{const t=await f(l,s,y);g(t.hits),u(!1),i(!0),h(),(t.hits.length===0||s>=t.totalHits/15)&&(i(!1),d.error({title:"Sorry,",message:"there are no images matching your search query. Please, try again!",position:"topRight",timeout:3e3}))}catch(t){p(t)}});I.addEventListener("click",async()=>{s+=1,i(!1),u(!0);try{const e=await f(l,s,y);g(e.hits),u(!1),s>=e.totalHits/15?(i(!1),d.info({title:"We're sorry,",message:"but you've reached the end of search results.",position:"topRight",timeout:3e3})):i(!0),h()}catch(e){p(e)}});function h(){const e=document.querySelector(".image-card");if(e){const t=e.getBoundingClientRect().height;window.scrollBy({top:t*2,left:0,behavior:"smooth"})}}
//# sourceMappingURL=index.js.map

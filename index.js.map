{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function showLoader() {\n  const loader = document.getElementById('loader');\n  loader.style.display = 'block';\n}\nfunction hideLoader() {\n  const loader = document.getElementById('loader');\n  loader.style.display = 'none';\n}\nconst API_KEY = '46931303-4adba5c677ceeed1d52c819f0';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst defaultOptions = {\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nexport async function fetchImages(\n  query,\n  page = 1,\n  perPage = 200,\n  options = defaultOptions\n) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&page=${page}&per_page=${perPage}&image_type=${\n    options.image_type\n  }&orientation=${options.orientation}&safesearch=${options.safesearch}`;\n  showLoader();\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Error fetching images');\n    }\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  } finally {\n    hideLoader();\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function renderImages(images) {\n  const galleryElement = document.querySelector('.gallery');\n  galleryElement.innerHTML = '';\n\n  const imagesSet = images\n    .map(image => {\n      return `\n    <div class=\"image-card\">\n      <a href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      </a>\n      <div class=\"img-details\">\n     <div class=\"coms\"> <p>Likes</p> ${image.likes}</div>\n      <div class=\"coms\"><p>Views</p> ${image.views}</div>\n      <div class=\"coms\"><p>Comments</p> ${image.comments}</div>\n      <div class=\"coms\"><p>Downloads</p> ${image.downloads}</div>\n      </div>\n      </div>\n    `;\n    })\n    .join('');\n  galleryElement.innerHTML = imagesSet;\n\n  lightbox.refresh();\n}\n\nexport function renderError(error) {\n  iziToast.error({\n    title: 'Error',\n    message: error.message,\n    position: 'topRight',\n    timeout: 5000,\n  });\n}\n\nexport function clearError() {\n  iziToast.hide({}, 'all');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, renderError } from './js/render-functions.js';\n\nfunction toggleLoader(isLoading) {\n  const loader = document.getElementById('loader');\n  if (isLoading) {\n    loader.style.display = 'block';\n  } else {\n    loader.style.display = 'none';\n  }\n}\n\nconst form = document.querySelector('#form');\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const query = event.target.elements.query.value.trim();\n  if (!query) {\n    toggleLoader(false);\n    iziToast.error({\n      title: 'Sorry,',\n      message:\n        'there are no images matching your search query. Please, try again!',\n      position: 'topRight',\n      timeout: 3000,\n    });\n    return;\n  }\n  toggleLoader(true);\n  try {\n    const images = await fetchImages(query);\n    if (images.length === 0) {\n      iziToast.error({\n        title: 'Sorry,',\n        message:\n          'There are no images matching your search query. Please, try again!',\n        position: 'topRight',\n        timeout: 3000,\n      });\n    } else {\n      renderImages(images);\n    }\n  } catch (error) {\n    renderError(error);\n  } finally {\n    toggleLoader(false);\n  }\n});\n"],"names":["showLoader","loader","hideLoader","API_KEY","BASE_URL","defaultOptions","fetchImages","query","page","perPage","options","url","response","error","lightbox","SimpleLightbox","renderImages","images","galleryElement","imagesSet","image","renderError","iziToast","toggleLoader","isLoading","form","event"],"mappings":"6vBAAA,SAASA,GAAa,CACpB,MAAMC,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,OACzB,CACA,SAASC,GAAa,CACpB,MAAMD,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,MACzB,CACA,MAAME,EAAU,qCACVC,EAAW,2BACXC,EAAiB,CACrB,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEO,eAAeC,EACpBC,EACAC,EAAO,EACPC,EAAU,IACVC,EAAUL,EACV,CACA,MAAMM,EAAM,GAAGP,CAAQ,QAAQD,CAAO,MAAM,mBAC1CI,CACD,CAAA,SAASC,CAAI,aAAaC,CAAO,eAChCC,EAAQ,UACZ,gBAAkBA,EAAQ,WAAW,eAAeA,EAAQ,UAAU,GACpEV,IACA,GAAI,CACF,MAAMY,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuB,EAGzC,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,cAAQ,MAAMA,CAAK,EACbA,CACV,QAAY,CACRX,GACD,CACH,CCpCA,MAAMY,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAiB,SAAS,cAAc,UAAU,EACxDA,EAAe,UAAY,GAE3B,MAAMC,EAAYF,EACf,IAAIG,GACI;AAAA;AAAA,iBAEIA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,uCAGnBA,EAAM,KAAK;AAAA,uCACXA,EAAM,KAAK;AAAA,0CACRA,EAAM,QAAQ;AAAA,2CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAIrD,EACA,KAAK,EAAE,EACVF,EAAe,UAAYC,EAE3BL,EAAS,QAAO,CAClB,CAEO,SAASO,EAAYR,EAAO,CACjCS,EAAS,MAAM,CACb,MAAO,QACP,QAAST,EAAM,QACf,SAAU,WACV,QAAS,GACb,CAAG,CACH,CCtCA,SAASU,EAAaC,EAAW,CAC/B,MAAMvB,EAAS,SAAS,eAAe,QAAQ,EAC3CuB,EACFvB,EAAO,MAAM,QAAU,QAEvBA,EAAO,MAAM,QAAU,MAE3B,CAEA,MAAMwB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,MAAMC,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMnB,EAAQmB,EAAM,OAAO,SAAS,MAAM,MAAM,OAChD,GAAI,CAACnB,EAAO,CACVgB,EAAa,EAAK,EAClBD,EAAS,MAAM,CACb,MAAO,SACP,QACE,qEACF,SAAU,WACV,QAAS,GACf,CAAK,EACD,MACD,CACDC,EAAa,EAAI,EACjB,GAAI,CACF,MAAMN,EAAS,MAAMX,EAAYC,CAAK,EAClCU,EAAO,SAAW,EACpBK,EAAS,MAAM,CACb,MAAO,SACP,QACE,qEACF,SAAU,WACV,QAAS,GACjB,CAAO,EAEDN,EAAaC,CAAM,CAEtB,OAAQJ,EAAO,CACdQ,EAAYR,CAAK,CACrB,QAAY,CACRU,EAAa,EAAK,CACnB,CACH,CAAC"}